{"version":3,"sources":["sidebar.min.js","sidebar.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","window","SidebarJS","document","_onTouchStart","e","this","container","touchStart","touches","pageX","_onTouchMove","touchMove","component","classList","add","CLASS_IS_MOVING","_vendorify","_onTouchEnd","remove","clientWidth","close","open","_create","tag","element","el","createElement","setAttribute","prop","val","Prop","charAt","toUpperCase","slice","prefs","style","CLASS_IS_VISIBLE","querySelector","trigger","background","innerHTML","appendChild","addEventListener","bind","value","contains","removeAttribute"],"mappings":"AAAA,YAIA,SAASA,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,cAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUR,EAAae,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBH,EAAYiB,UAAWF,GAAiBC,GAAab,EAAiBH,EAAagB,GAAqBhB,KCAhiBkB,QAAOC,UAAa,SAASD,EAAQE,GAqCnC,QAASC,GAAcC,GACrBC,KAAKC,UAAUC,WAAaH,EAAEI,QAAQ,GAAGC,MAG3C,QAASC,GAAaN,GACpBC,KAAKC,UAAUK,UAAYN,KAAKC,UAAUC,WAAaH,EAAEI,QAAQ,GAAGC,MACjEJ,KAAKC,UAAUK,UAAY,IAC5BN,KAAKO,UAAUC,UAAUC,IAAIC,GAC7BC,EAAWX,KAAKC,UAAhB,YAAA,cAAsDD,KAAKC,UAAUK,UAArE,WAIJ,QAASM,KACPZ,KAAKO,UAAUC,UAAUK,OAAOH,GAChCV,KAAKC,UAAUK,UAAaN,KAAKC,UAAUa,YAAY,IAAOd,KAAKe,QAAUf,KAAKgB,OAGpF,QAASC,GAAQC,EAAKC,GACpB,GAAMC,GAAKvB,EAASwB,cAAcH,EAElC,OADAE,GAAGE,aAAa,QAAhB,aAAsCH,GAC/BC,EAGT,QAAST,GAAWS,EAAIG,EAAMC,GAC5B,GAAMC,GAAOF,EAAKG,OAAO,GAAGC,cAAgBJ,EAAKK,MAAM,GACjDC,GAAS,MAAO,SAAU,IAAK,KACrCT,GAAGU,MAAMP,KAAOC,CAChB,KAAI,GAAIzC,GAAI,EAAGA,EAAI8C,EAAM7C,OAAQD,IAC/BqC,EAAGU,MAAMD,EAAM9C,GAAK0C,GAAQD,CAE9B,OAAOJ,GAhET,GAAMW,GAAoB,wBACpBrB,EAAmB,uBAEnBd,EANuC,WAO3C,QAAAA,KAAcrB,gBAAAyB,KAAAJ,GACZI,KAAKO,UAAYV,EAASmC,cAAc,cACxChC,KAAKiC,QAAUpC,EAASmC,cAAc,sBACtChC,KAAKC,UAAYgB,EAAQ,MAAO,aAChCjB,KAAKkC,WAAajB,EAAQ,MAAO,cAEjCjB,KAAKC,UAAUkC,UAAYnC,KAAKO,UAAU4B,UAC1CnC,KAAKO,UAAU4B,UAAY,GAC3BnC,KAAKO,UAAU6B,YAAYpC,KAAKC,WAChCD,KAAKO,UAAU6B,YAAYpC,KAAKkC,YAEhClC,KAAKC,UAAUoC,iBAAiB,aAAcvC,EAAcwC,KAAKtC,OACjEA,KAAKC,UAAUoC,iBAAiB,YAAahC,EAAaiC,KAAKtC,OAC/DA,KAAKC,UAAUoC,iBAAiB,WAAYzB,EAAY0B,KAAKtC,OAC7DA,KAAKkC,WAAWG,iBAAiB,QAASrC,KAAKe,MAAMuB,KAAKtC,OAC1DA,KAAKiC,QAAQI,iBAAiB,QAASrC,KAAKgB,KAAKsB,KAAKtC,OAtBb,MAAArB,cAAAiB,IAAAL,IAAA,OAAAgD,MAAA,WA0BzCvC,KAAKO,UAAUC,UAAUgC,SAAST,GAChC/B,KAAKC,UAAUwC,gBAAgB,SAC/BzC,KAAKO,UAAUC,UAAUC,IAAIsB,MA5BUxC,IAAA,QAAAgD,MAAA,WAgCzCvC,KAAKC,UAAUwC,gBAAgB,SAC/BzC,KAAKO,UAAUC,UAAUK,OAAOkB,OAjCSnC,IAsE7C,OAAOA,IAEND,OAAQE","file":"sidebar.min.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* jshint -W003  */ /* jshint -W014  */ /* jshint -W030  */ /* jshint -W040 */\n\nwindow.SidebarJS = function (window, document) {\n  'use strict';\n\n  var CLASS_IS_VISIBLE = 'sidebarjs--is-visible';\n  var CLASS_IS_MOVING = 'sidebarjs--is-moving';\n\n  var SidebarJS = function () {\n    function SidebarJS() {\n      _classCallCheck(this, SidebarJS);\n\n      this.component = document.querySelector('.sidebarjs');\n      this.trigger = document.querySelector('.sidebarjs-trigger');\n      this.container = _create('div', 'container');\n      this.background = _create('div', 'background');\n\n      this.container.innerHTML = this.component.innerHTML;\n      this.component.innerHTML = '';\n      this.component.appendChild(this.container);\n      this.component.appendChild(this.background);\n\n      this.container.addEventListener('touchstart', _onTouchStart.bind(this));\n      this.container.addEventListener('touchmove', _onTouchMove.bind(this));\n      this.container.addEventListener('touchend', _onTouchEnd.bind(this));\n      this.background.addEventListener('click', this.close.bind(this));\n      this.trigger.addEventListener('click', this.open.bind(this));\n    }\n\n    _createClass(SidebarJS, [{\n      key: 'open',\n      value: function open() {\n        this.component.classList.contains(CLASS_IS_VISIBLE) ? this.container.removeAttribute('style') : this.component.classList.add(CLASS_IS_VISIBLE);\n      }\n    }, {\n      key: 'close',\n      value: function close() {\n        this.container.removeAttribute('style');\n        this.component.classList.remove(CLASS_IS_VISIBLE);\n      }\n    }]);\n\n    return SidebarJS;\n  }();\n\n  function _onTouchStart(e) {\n    this.container.touchStart = e.touches[0].pageX;\n  }\n\n  function _onTouchMove(e) {\n    this.container.touchMove = this.container.touchStart - e.touches[0].pageX;\n    if (this.container.touchMove > 0) {\n      this.component.classList.add(CLASS_IS_MOVING);\n      _vendorify(this.container, 'transform', 'translate(' + -this.container.touchMove + 'px, 0)');\n    }\n  }\n\n  function _onTouchEnd() {\n    this.component.classList.remove(CLASS_IS_MOVING);\n    this.container.touchMove > this.container.clientWidth / 3.5 ? this.close() : this.open();\n  }\n\n  function _create(tag, element) {\n    var el = document.createElement(tag);\n    el.setAttribute('class', 'sidebarjs-' + element);\n    return el;\n  }\n\n  function _vendorify(el, prop, val) {\n    var Prop = prop.charAt(0).toUpperCase() + prop.slice(1);\n    var prefs = ['Moz', 'Webkit', 'O', 'ms'];\n    el.style.prop = val;\n    for (var i = 0; i < prefs.length; i++) {\n      el.style[prefs[i] + Prop] = val;\n    }\n    return el;\n  }\n\n  return SidebarJS;\n}(window, document);","/* jshint -W003  *//* jshint -W014  *//* jshint -W030  *//* jshint -W040 */\n\nwindow.SidebarJS = (function(window, document) {\n  'use strict';\n\n  const CLASS_IS_VISIBLE  = 'sidebarjs--is-visible';\n  const CLASS_IS_MOVING  = 'sidebarjs--is-moving';\n\n  class SidebarJS {\n    constructor() {\n      this.component = document.querySelector('.sidebarjs');\n      this.trigger = document.querySelector('.sidebarjs-trigger');\n      this.container = _create('div', 'container');\n      this.background = _create('div', 'background');\n\n      this.container.innerHTML = this.component.innerHTML;\n      this.component.innerHTML = '';\n      this.component.appendChild(this.container);\n      this.component.appendChild(this.background);\n\n      this.container.addEventListener('touchstart', _onTouchStart.bind(this));\n      this.container.addEventListener('touchmove', _onTouchMove.bind(this));\n      this.container.addEventListener('touchend', _onTouchEnd.bind(this));\n      this.background.addEventListener('click', this.close.bind(this));\n      this.trigger.addEventListener('click', this.open.bind(this));\n    }\n    \n    open() {\n      this.component.classList.contains(CLASS_IS_VISIBLE)\n      ? this.container.removeAttribute('style')\n      : this.component.classList.add(CLASS_IS_VISIBLE);\n    }\n\n    close() {\n      this.container.removeAttribute('style');\n      this.component.classList.remove(CLASS_IS_VISIBLE);\n    }\n  }\n\n  function _onTouchStart(e) {\n    this.container.touchStart = e.touches[0].pageX;\n  }\n\n  function _onTouchMove(e) {\n    this.container.touchMove = this.container.touchStart - e.touches[0].pageX;\n    if(this.container.touchMove > 0) {\n      this.component.classList.add(CLASS_IS_MOVING);\n      _vendorify(this.container, `transform`, `translate(${-this.container.touchMove}px, 0)`);\n    }\n  }\n\n  function _onTouchEnd() {\n    this.component.classList.remove(CLASS_IS_MOVING);\n    this.container.touchMove > (this.container.clientWidth/3.5) ? this.close() : this.open();\n  }\n\n  function _create(tag, element) {\n    const el = document.createElement(tag);\n    el.setAttribute('class', `sidebarjs-${element}`);\n    return el;\n  }\n\n  function _vendorify(el, prop, val) {\n    const Prop = prop.charAt(0).toUpperCase() + prop.slice(1);\n    const prefs = ['Moz', 'Webkit', 'O', 'ms'];\n    el.style.prop = val;\n    for(let i = 0; i < prefs.length; i++ ) {\n      el.style[prefs[i] + Prop] = val;\n    }\n    return el;\n  }\n\n  return SidebarJS;\n\n})(window, document);\n"]}
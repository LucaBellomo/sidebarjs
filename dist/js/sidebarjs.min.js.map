{"version":3,"sources":["sidebarjs.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","window","SidebarJS","document","_onTouchStart","e","this","container","touchStart","touches","pageX","_onTouchMove","touchMove","component","classList","add","isMoving","_vendorify","opacity","clientWidth","background","style","toString","_onTouchEnd","remove","close","open","removeAttribute","_create","element","el","createElement","setAttribute","prop","val","Prop","charAt","toUpperCase","slice","prefs","sidebarjs","isVisible","querySelector","innerHTML","appendChild","_actions","_elements","querySelectorAll","j","addEventListener","bind","value","contains"],"mappings":"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","file":"sidebarjs.min.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.SidebarJS = function (window, document) {\n  var sidebarjs = 'sidebarjs';\n  var isVisible = sidebarjs + '--is-visible';\n  var isMoving = sidebarjs + '--is-moving';\n\n  return function () {\n    function SidebarJS() {\n      _classCallCheck(this, SidebarJS);\n\n      this.component = document.querySelector('[' + sidebarjs + ']');\n      this.container = _create(sidebarjs + '-container');\n      this.background = _create(sidebarjs + '-background');\n\n      this.container.innerHTML = this.component.innerHTML;\n      this.component.innerHTML = '';\n      this.component.appendChild(this.container);\n      this.component.appendChild(this.background);\n\n      var _actions = ['toggle', 'open', 'close'];\n      for (var i = 0; i < _actions.length; i++) {\n        var _elements = document.querySelectorAll('[' + sidebarjs + '-' + _actions[i] + ']');\n        for (var j = 0; j < _elements.length; j++) {\n          _elements[j].addEventListener('click', this[_actions[i]].bind(this));\n        }\n      }\n\n      this.component.addEventListener('touchstart', _onTouchStart.bind(this));\n      this.component.addEventListener('touchmove', _onTouchMove.bind(this));\n      this.component.addEventListener('touchend', _onTouchEnd.bind(this));\n      this.background.addEventListener('click', this.close.bind(this));\n    }\n\n    _createClass(SidebarJS, [{\n      key: 'toggle',\n      value: function toggle() {\n        this.component.classList.contains(isVisible) ? this.close() : this.open();\n      }\n    }, {\n      key: 'open',\n      value: function open() {\n        this.component.classList.add(isVisible);\n      }\n    }, {\n      key: 'close',\n      value: function close() {\n        this.component.classList.remove(isVisible);\n      }\n    }]);\n\n    return SidebarJS;\n  }();\n\n  function _onTouchStart(e) {\n    this.container.touchStart = e.touches[0].pageX;\n  }\n\n  function _onTouchMove(e) {\n    this.container.touchMove = this.container.touchStart - e.touches[0].pageX;\n    if (this.container.touchMove > 0) {\n      this.component.classList.add(isMoving);\n      _vendorify(this.container, 'transform', 'translate(' + -this.container.touchMove + 'px, 0)');\n      var opacity = 0.3 - this.container.touchMove / (this.container.clientWidth * 3.5);\n      this.background.style.opacity = opacity.toString();\n    }\n  }\n\n  function _onTouchEnd() {\n    this.component.classList.remove(isMoving);\n    this.container.touchMove > this.container.clientWidth / 3.5 ? this.close() : this.open();\n    this.container.touchMove = 0;\n    this.container.removeAttribute('style');\n    this.background.removeAttribute('style');\n  }\n\n  function _create(element) {\n    var el = document.createElement('div');\n    el.setAttribute(element, '');\n    return el;\n  }\n\n  function _vendorify(el, prop, val) {\n    var Prop = prop.charAt(0).toUpperCase() + prop.slice(1);\n    var prefs = ['Moz', 'Webkit', 'O', 'ms'];\n    el.style[prop] = val;\n    for (var i = 0; i < prefs.length; i++) {\n      el.style[prefs[i] + Prop] = val;\n    }\n    return el;\n  }\n}(window, document);"],"sourceRoot":"/source/"}
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();!function(e){"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.SidebarJS=e}(function(){var e="sidebarjs",t=e+"--is-visible",n=e+"--is-moving";return function(){function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,o),this.component=t.container||document.querySelector("["+e+"]"),this.container=t.container||o.create(e+"-container"),this.background=t.background||o.create(e+"-background"),t.container||t.container||t.background||(this.container.innerHTML=this.component.innerHTML,this.component.innerHTML="",this.component.appendChild(this.container),this.component.appendChild(this.background)),this.addAttrsEventsListeners(),this.component.addEventListener("touchstart",this.onTouchStart.bind(this)),this.component.addEventListener("touchmove",this.onTouchMove.bind(this)),this.component.addEventListener("touchend",this.onTouchEnd.bind(this)),this.background.addEventListener("click",this.close.bind(this))}return _createClass(o,[{key:"addAttrsEventsListeners",value:function(){for(var t=["toggle","open","close"],n=0;n<t.length;n++)for(var i=document.querySelectorAll("["+e+"-"+t[n]+"]"),s=0;s<i.length;s++)o.elemHasListener(i[s])||(i[s].addEventListener("click",this[t[n]].bind(this)),o.elemHasListener(i[s],!0))}},{key:"toggle",value:function(){this.component.classList.contains(t)?this.close():this.open()}},{key:"open",value:function(){this.component.classList.add(t)}},{key:"close",value:function(){this.component.classList.remove(t)}},{key:"onTouchStart",value:function(e){this.container.touchStart=e.touches[0].pageX}},{key:"onTouchMove",value:function(e){if(this.container.touchMove=this.container.touchStart-e.touches[0].pageX,this.container.touchMove>0){this.component.classList.add(n),o.vendorify(this.container,"transform","translate("+-this.container.touchMove+"px, 0)");var t=.3-this.container.touchMove/(3.5*this.container.clientWidth);this.background.style.opacity=t.toString()}}},{key:"onTouchEnd",value:function(){this.component.classList.remove(n),this.container.touchMove>this.container.clientWidth/3.5?this.close():this.open(),this.container.touchMove=0,this.container.removeAttribute("style"),this.background.removeAttribute("style")}}],[{key:"create",value:function(e){var t=document.createElement("div");return t.setAttribute(e,""),t}},{key:"vendorify",value:function(e,t,n){var o=t.charAt(0).toUpperCase()+t.slice(1),i=["Moz","Webkit","O","ms"];e.style[t]=n;for(var s=0;s<i.length;s++)e.style[i[s]+o]=n;return e}},{key:"elemHasListener",value:function(e,t){return e&&t?e.sidebarjsListener=t:e.sidebarjsListener}},{key:"version",get:function(){return"1.7.0"}}]),o}()}());